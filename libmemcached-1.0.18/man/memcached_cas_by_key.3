.\" Man page generated from reStructuredText.
.
.TH "MEMCACHED_CAS_BY_KEY" "3" "February 09, 2014" "1.0.18" "libmemcached"
.SH NAME
memcached_cas_by_key \- Storing and Replacing Data
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
#include <libmemcached/memcached.h>
.INDENT 0.0
.TP
.B memcached_return_t memcached_cas(memcached_st\fI\ *ptr\fP, const char\fI\ *key\fP, size_t\fI\ key_length\fP, const char\fI\ *value\fP, size_t\fI\ value_length\fP, time_t\fI\ expiration\fP, uint32_t\fI\ flags\fP, uint64_t\fI\ cas\fP)
.UNINDENT
.INDENT 0.0
.TP
.B memcached_return_t memcached_cas_by_key(memcached_st\fI\ *ptr\fP, const char\fI\ *group_key\fP, size_t\fI\ group_key_length\fP, const char\fI\ *key\fP, size_t\fI\ key_length\fP, const char\fI\ *value\fP, size_t\fI\ value_length\fP, time_t\fI\ expiration\fP, uint32_t\fI\ flags\fP, uint64_t\fI\ cas\fP)
.UNINDENT
.sp
Compile and link with \-lmemcached
.SH DESCRIPTION
.sp
\fI\%memcached_cas()\fP overwrites data in the server as long as the "cas"
value is still the same in the server. You can get the cas value of a result
by calling \fBmemcached_result_cas()\fP on a memcached_result_st(3)
structure. At the point that this note was written cas is still buggy in memached. Turning on tests for it in libmemcached(3) is optional. Please see
\fBmemcached_set()\fP for information on how to do this.
.sp
\fI\%memcached_cas_by_key()\fP method behaves in a similar method as the non
key methods. The difference is that it uses the group_key parameter
to map objects to particular servers.
.sp
\fI\%memcached_cas()\fP is testsed with the \fBMEMCACHED_BEHAVIOR_USE_UDP\fP behavior enabled. However, when using these operations with this behavior
on, there are limits to the size of the payload being sent to the server.  The
reason for these limits is that the Memcached Server does not allow
multi\-datagram requests and the current server implementation sets a datagram
size to 1400 bytes. Due to protocol overhead, the actual limit of the user
supplied data is less than 1400 bytes and depends on the protocol in use as,
well as the operation being executed. When running with the binary protocol,
\fBMEMCACHED_BEHAVIOR_BINARY_PROTOCOL\fP, the size of the key,value,
flags and expiry combined may not exceed 1368 bytes. When running with the
ASCII protocol, the exact limit fluctuates depending on which function is
being executed and whether the function is a cas operation or not. For
non\-cas ASCII set operations, there are at least 1335 bytes available to
split among the key, key_prefix, and value; for cas ASCII operations there
are at least 1318 bytes available to split among the key, key_prefix and value. If the total size of the command, including overhead, exceeds 1400 bytes, a \fBMEMCACHED_WRITE_FAILURE\fP will be returned.
.SH RETURN
.sp
All methods return a value of type \fBmemcached_return_t\fP\&.
On success the value will be \fBMEMCACHED_SUCCESS\fP\&.
Use \fBmemcached_strerror()\fP to translate this value to a printable
string.
.SH HOME
.sp
To find out more information please check:
\fI\%http://libmemcached.org/\fP
.SH SEE ALSO
.sp
\fImemcached(1)\fP \fIlibmemached(3)\fP \fImemcached_strerror(3)\fP \fImemcached_set(3)\fP \fImemcached_append(3)\fP \fImemcached_add(3)\fP \fImemcached_prepend(3)\fP \fImemcached_replace(3)\fP
.SH AUTHOR
Brian Aker
.SH COPYRIGHT
2011-2013, Brian Aker DataDifferential, http://datadifferential.com/
.\" Generated by docutils manpage writer.
.
